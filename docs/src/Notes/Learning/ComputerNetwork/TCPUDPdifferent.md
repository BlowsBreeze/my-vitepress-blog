# TCP和UDP的区别

1. 连接

   TCP是**面向连接的**，在传输前需要三次握手建立连接，UDP **不需要连接**，即刻传输数据
2. 服务形式

   TCP只能**一对一**，点对点服务，UDP支持**一对一、一对多、多对多通信**
3. 可靠性

   TCP保证 **数据可靠交付**，拥有 **确认应答和重传机制**，无重复、不丢失、按序到达；
   UDP **尽可能交付**，不保证可靠性
4. 连接控制机制

   TCP拥有流量控制、拥塞控制，保证传输安全性，UDP在网络拥堵情况下不会降低发送速率
5. 首部大小

   TCP首部长度不使用选项字段是20字节，使用选项字段长度增加（可变），UDP首部固定8字节
6. 传输方式

   TCP基于字节流，没有边界，但是保证传输顺序和可靠性
   UDP继承了IP层特性，基于数据包，有边界可能出现乱序和丢包
7. 分片方式

   TCP数据大于MSS时会 **在TCP层将数据进行分片传输**，到达目的地后同样在传输层进行合并，如果有某个片丢失则只需要重传丢失的分片即可
   UDP数据大于MTU时会 **在IP层分片**，同样也在目的IP层合并，如果某个IP分片丢失，则需要将所有分片都进行重传、开销大

